(function(_0x39d1b4,_0x563c71){const _0x4183fa=_0xb5a1,_0x243d3e=_0x39d1b4();while(!![]){try{const _0x41fdb3=parseInt(_0x4183fa(0x19e))/0x1+parseInt(_0x4183fa(0x1aa))/0x2*(-parseInt(_0x4183fa(0x1cf))/0x3)+parseInt(_0x4183fa(0x1c1))/0x4*(parseInt(_0x4183fa(0x191))/0x5)+-parseInt(_0x4183fa(0x1a6))/0x6+parseInt(_0x4183fa(0x195))/0x7*(parseInt(_0x4183fa(0x199))/0x8)+parseInt(_0x4183fa(0x16e))/0x9*(parseInt(_0x4183fa(0x1a2))/0xa)+-parseInt(_0x4183fa(0x182))/0xb*(parseInt(_0x4183fa(0x16f))/0xc);if(_0x41fdb3===_0x563c71)break;else _0x243d3e['push'](_0x243d3e['shift']());}catch(_0x29a54e){_0x243d3e['push'](_0x243d3e['shift']());}}}(_0x4e0c,0xe74a7));function _0x4e0c(){const _0x204524=['tKpjD','gpIiZ','endpoints','voteTimeout','filter','WgiFD','removeListener','XfPIc','wnVyC','bfFEN','requesting\x20votes\x20from\x20','bindSync','sending\x20master\x20coordinates\x20to\x20','toAddress','\x27\x20to\x20\x27','tcp://0.0.0.0:','TcoNe','36201IkrnJY','HUuwv','\x27\x20in\x20','IlwSm','masterElected','\x20in\x20','router','inRvV','newmaster','eCZpl','\x20(master)','catch','socket','emit','length','5155xcVOuj','stringify','type','RCYLZ','7cUpKRK','tQdIK','name','req','8528752LUqagC','unbindSync','PBTPJ','gqGfN','FOSot','1361782xhglWx','ChCTJ','IyIXv','voteRequest','30VtQmTT','OakgX','masterRequest','myself','537336OOoJQl','tcp://','settings','candidate','4pONpWg','hTpTD','resolved\x20','VEgTZ','defineProperties','isMaster','jUSsh','all','GjaZg','from','message','sending\x20vote\x20to\x20','lsbUV','zzTKh','STvaZ','hQJEa','could\x20not\x20elect\x20a\x20master','\x20nodes','BrLwf','resolve4','send','master','\x27\x20nodes:\x20','3116nZJNvA','AZYqZ','now','\x20ms','HebXG','data','parse','jyAXZ','coordinationPort','connect','ocGZe','missed\x20vote\x20by\x20peer\x20at\x20','AzFkA','close','1290678IIsgdm','forEach','3275451osgcPp','8844YNAdvZ','EnkkP'];_0x4e0c=function(){return _0x204524;};return _0x4e0c();}function _0xb5a1(_0x34e7de,_0x29052e){const _0x4e0c5b=_0x4e0c();return _0xb5a1=function(_0xb5a193,_0x59de3d){_0xb5a193=_0xb5a193-0x16e;let _0x5cf123=_0x4e0c5b[_0xb5a193];return _0x5cf123;},_0xb5a1(_0x34e7de,_0x29052e);}function MasterElector(_0x4a246e,_0x27f4e4){const _0x2b0eee=_0xb5a1,_0x5da285={'qNcrm':function(_0x39fd72,_0x203204){return _0x39fd72===_0x203204;},'zzTKh':_0x2b0eee(0x1a4),'IyIXv':function(_0x55cd7a,_0x3eec19){return _0x55cd7a(_0x3eec19);},'STvaZ':function(_0x32fa25,_0x4c5015){return _0x32fa25(_0x4c5015);},'QUewc':_0x2b0eee(0x186),'lsbUV':_0x2b0eee(0x18a),'YoUea':_0x2b0eee(0x198),'hQJEa':function(_0x267488,_0x42ee94){return _0x267488(_0x42ee94);},'FOSot':function(_0xd87a14,_0x506658){return _0xd87a14(_0x506658);},'EnkkP':function(_0x4c55d9,_0x412a9e){return _0x4c55d9||_0x412a9e;},'ChCTJ':_0x2b0eee(0x1b4),'gpIiZ':function(_0x32135d,_0x13a34b){return _0x32135d-_0x13a34b;},'wnVyC':function(_0x37675e,_0x116cde){return _0x37675e(_0x116cde);},'tKpjD':function(_0x10ccf5,_0x424ee7){return _0x10ccf5(_0x424ee7);},'eCZpl':_0x2b0eee(0x1a1),'XclNP':_0x2b0eee(0x1ba),'hhhmN':function(_0x4ab679){return _0x4ab679();},'HUuwv':function(_0x1592cd,_0x22d355){return _0x1592cd(_0x22d355);},'GjaZg':'dnsmq-messagebus:masterelector','gqGfN':_0x2b0eee(0x188)};let _0x3bccc8=new EventEmitter();const _0xfb6ad3=_0x5da285[_0x2b0eee(0x183)](D,_0x5da285[_0x2b0eee(0x1b2)]),_0x2345f8=(..._0x4654b3)=>_0xfb6ad3(_0x4a246e[_0x2b0eee(0x197)],..._0x4654b3);let _0x305f42=![],_0x5bbf7b=null,_0x1fc1de=zmq[_0x2b0eee(0x18e)](_0x5da285[_0x2b0eee(0x19c)]);function _0x35509f(_0x40e8cb,_0x250a60,_0x57f653){const _0x5e96f8=_0x2b0eee;let _0x394beb=JSON[_0x5e96f8(0x1c7)](_0x57f653);_0x27f4e4['setIP'](_0x394beb[_0x5e96f8(0x17e)]);switch(_0x394beb[_0x5e96f8(0x193)]){case _0x5e96f8(0x1a1):_0x2345f8(_0x5e96f8(0x1b5)+(_0x5da285['qNcrm'](_0x4a246e['name'],_0x394beb[_0x5e96f8(0x1b3)])?_0x5e96f8(0x1a5):_0x394beb[_0x5e96f8(0x1b3)])),_0x1fc1de[_0x5e96f8(0x1be)]([_0x40e8cb,_0x250a60,JSON['stringify']({'id':_0x5bbf7b||_0x4a246e['id'],'name':_0x4a246e[_0x5e96f8(0x197)],'endpoints':_0x27f4e4['endpoints'],'isMaster':_0x27f4e4[_0x5e96f8(0x1af)],'candidate':!_0x5bbf7b})]);break;case _0x5da285[_0x5e96f8(0x1b7)]:let _0x4f47f5=_0x4a246e[_0x5e96f8(0x1bf)];_0x4f47f5?(_0x5da285[_0x5e96f8(0x1a0)](_0x2345f8,_0x5e96f8(0x17d)+_0x394beb['from']),_0x1fc1de[_0x5e96f8(0x1be)]([_0x40e8cb,_0x250a60,JSON[_0x5e96f8(0x192)](_0x4f47f5)])):(_0x5da285[_0x5e96f8(0x1b8)](_0x2345f8,'unable\x20to\x20send\x20master\x20coordinates\x20to\x20'+_0x394beb[_0x5e96f8(0x1b3)]),_0x1fc1de['send']([_0x40e8cb,_0x250a60,JSON[_0x5e96f8(0x192)](![])]));break;case _0x5da285['QUewc']:_0x1fc1de['send']([_0x40e8cb,_0x250a60,'']),_0x5da285[_0x5e96f8(0x1a0)](_0x2345f8,'received\x20notice\x20of\x20master\x20election:\x20'+_0x394beb[_0x5e96f8(0x1c6)][_0x5e96f8(0x197)]),_0x3bccc8[_0x5e96f8(0x18f)](_0x5da285[_0x5e96f8(0x1b6)],_0x394beb[_0x5e96f8(0x1c6)]);}}function _0x1843ca(_0x5be64d,_0x5cf0f8){const _0x4b5147=_0x2b0eee;_0x5cf0f8=_0x5da285[_0x4b5147(0x170)](_0x5cf0f8,{});let _0x325cc4={'type':_0x5be64d,'data':_0x5cf0f8},{host:_0x53752e,coordinationPort:_0x19f8d2}=_0x4a246e['settings'];dns[_0x4b5147(0x1bd)](_0x53752e,(_0x1f64e6,_0x1066ef)=>{const _0x921053=_0x4b5147,_0x57e94d={'hAsft':_0x5da285['YoUea'],'ocGZe':_0x921053(0x1b4)};if(_0x1f64e6){_0x5da285[_0x921053(0x1b9)](_0x2345f8,'cannot\x20resolve\x20host\x20\x27'+_0x53752e+'\x27.\x20Check\x20DNS\x20infrastructure.');return;}_0x5da285[_0x921053(0x19d)](_0x2345f8,'broadcasting\x20message\x20\x27'+_0x5be64d+_0x921053(0x17f)+_0x53752e+_0x921053(0x1c0)+_0x1066ef),_0x1066ef[_0x921053(0x1d0)](_0x490151=>{const _0x5600b2=_0x921053;let _0x5b993e=zmq[_0x5600b2(0x18e)](_0x57e94d['hAsft']);_0x5b993e['connect']('tcp://'+_0x490151+':'+_0x19f8d2),_0x5b993e[_0x5600b2(0x1be)](JSON['stringify']({..._0x325cc4,'toAddress':_0x490151}));let _0x235026=![];function _0x45799d(){if(_0x235026)return;_0x235026=!![],_0x5b993e['close']();}_0x5b993e['on'](_0x57e94d[_0x5600b2(0x1cb)],_0x45799d),setTimeout(_0x45799d,0x12c);});});}function _0x272dda(){const _0x47ae8f=_0x2b0eee;let {host:_0x4e588b,coordinationPort:_0x41d018}=_0x4a246e[_0x47ae8f(0x1a8)],_0x5d668d={'type':_0x5da285[_0x47ae8f(0x18b)],'data':{}};return new Promise((_0x23b93f,_0x46c049)=>{const _0x573e86=_0x47ae8f,_0x4668e1={'jUSsh':_0x5da285['ChCTJ'],'RCYLZ':function(_0x185789,_0x4690f5){const _0x338fee=_0xb5a1;return _0x5da285[_0x338fee(0x172)](_0x185789,_0x4690f5);},'RKUDQ':function(_0x1766f2,_0x390a5d){const _0x3a58e0=_0xb5a1;return _0x5da285[_0x3a58e0(0x179)](_0x1766f2,_0x390a5d);},'irnYt':_0x573e86(0x1a5),'SXWPK':_0x5da285['YoUea'],'zzhOn':function(_0x1b75c1,_0x33351c){const _0x5638bf=_0x573e86;return _0x5da285[_0x5638bf(0x171)](_0x1b75c1,_0x33351c);},'OakgX':function(_0x7b11b6,_0x42f3da){return _0x7b11b6(_0x42f3da);},'HebXG':function(_0x48baae,_0x1ca440){return _0x48baae(_0x1ca440);},'BrLwf':function(_0x44e2ce,_0x17e585){const _0x59b03a=_0x573e86;return _0x5da285[_0x59b03a(0x1b8)](_0x44e2ce,_0x17e585);}};let _0x14d017=Date[_0x573e86(0x1c3)]();dns['resolve4'](_0x4e588b,(_0x30d94b,_0x353e02)=>{const _0x34cd70=_0x573e86,_0x4d4dbf={'WgiFD':_0x4668e1[_0x34cd70(0x1b0)],'jyAXZ':function(_0x1103a7,_0x3b728e){return _0x4668e1['RCYLZ'](_0x1103a7,_0x3b728e);},'PBTPJ':function(_0x5d932f,_0x110676){return _0x4668e1['RKUDQ'](_0x5d932f,_0x110676);},'XfPIc':function(_0x5a1cc2,_0x1f6efa){return _0x5a1cc2===_0x1f6efa;},'AzFkA':_0x4668e1['irnYt'],'SgJrh':_0x4668e1['SXWPK'],'tQdIK':function(_0x8f4a2,_0x3f8191,_0x3993d3){return _0x8f4a2(_0x3f8191,_0x3993d3);}};if(_0x30d94b)return _0x4668e1['zzhOn'](_0x2345f8,'cannot\x20resolve\x20host\x20\x27'+_0x4e588b+'\x27.\x20Check\x20DNS\x20infrastructure.'),_0x4668e1[_0x34cd70(0x1a3)](_0x46c049,_0x30d94b);_0x4668e1[_0x34cd70(0x1c5)](_0x2345f8,_0x34cd70(0x1ac)+_0x353e02[_0x34cd70(0x190)]+'\x20IP(s)\x20for\x20host\x20\x27'+_0x4e588b+_0x34cd70(0x184)+_0x4668e1[_0x34cd70(0x194)](Date[_0x34cd70(0x1c3)](),_0x14d017)+_0x34cd70(0x1c4)),_0x4668e1[_0x34cd70(0x1bc)](_0x2345f8,_0x34cd70(0x17b)+_0x353e02['length']+_0x34cd70(0x1bb)),Promise[_0x34cd70(0x1b1)](_0x353e02['map'](_0x5f3d24=>new Promise((_0x141d33,_0x18b5d7)=>{const _0x3b9441=_0x34cd70,_0x2c0bb1={'IlwSm':_0x4d4dbf[_0x3b9441(0x176)],'TcoNe':function(_0x1404ea,_0x1f5a82){const _0x495c59=_0x3b9441;return _0x4d4dbf[_0x495c59(0x1c8)](_0x1404ea,_0x1f5a82);},'VEgTZ':function(_0x15d440,_0x525c91){const _0x179506=_0x3b9441;return _0x4d4dbf[_0x179506(0x19b)](_0x15d440,_0x525c91);},'xcGDz':function(_0x3bf001,_0x16631f){const _0xb05465=_0x3b9441;return _0x4d4dbf[_0xb05465(0x178)](_0x3bf001,_0x16631f);},'DRECh':_0x4d4dbf[_0x3b9441(0x1cd)],'AZYqZ':_0x3b9441(0x18c)};let _0xad296c=Date[_0x3b9441(0x1c3)](),_0x3a28ca=zmq[_0x3b9441(0x18e)](_0x4d4dbf['SgJrh']);_0x3a28ca[_0x3b9441(0x1ca)](_0x3b9441(0x1a7)+_0x5f3d24+':'+_0x41d018),_0x3a28ca[_0x3b9441(0x1be)](JSON[_0x3b9441(0x192)]({..._0x5d668d,'toAddress':_0x5f3d24,'from':_0x4a246e[_0x3b9441(0x197)]}));let _0x1c06d3=![];function _0x4fce7d(_0x5c07eb){const _0x2100e3=_0x3b9441;if(_0x1c06d3)return;_0x1c06d3=!![],_0x3a28ca['removeListener'](_0x2c0bb1[_0x2100e3(0x185)],_0x4fce7d),_0x3a28ca[_0x2100e3(0x1ce)]();let _0x34a5ad=_0x5c07eb&&JSON[_0x2100e3(0x1c7)](_0x5c07eb);if(_0x34a5ad){let _0x547854=_0x2c0bb1[_0x2100e3(0x181)](Date['now'](),_0xad296c);_0x34a5ad[_0x2100e3(0x1a9)]&&_0x2c0bb1['VEgTZ'](_0x2345f8,'received\x20vote\x20by\x20'+(_0x2c0bb1['xcGDz'](_0x34a5ad[_0x2100e3(0x197)],_0x4a246e[_0x2100e3(0x197)])?_0x2c0bb1['DRECh']:_0x34a5ad[_0x2100e3(0x197)])+(_0x34a5ad[_0x2100e3(0x1af)]?_0x2c0bb1[_0x2100e3(0x1c2)]:'')+_0x2100e3(0x187)+_0x547854+_0x2100e3(0x1c4));}else _0x2345f8(_0x2100e3(0x1cc)+_0x5f3d24);_0x2c0bb1[_0x2100e3(0x1ad)](_0x141d33,_0x34a5ad);}_0x3a28ca['on'](_0x3b9441(0x1b4),_0x4fce7d),_0x4d4dbf[_0x3b9441(0x196)](setTimeout,_0x4fce7d,_0x4a246e['settings'][_0x3b9441(0x174)]);})))['then'](_0x226808=>compact(_0x226808))['then'](_0x8f90c9=>_0x23b93f(_0x8f90c9[_0x34cd70(0x175)](({candidate:_0x3656ee})=>_0x3656ee)));});});}function _0x14ab2f(){const _0x305de7=_0x2b0eee;return _0x1fc1de[_0x305de7(0x17c)](_0x305de7(0x180)+_0x4a246e['settings'][_0x305de7(0x1c9)]),_0x1fc1de['on'](_0x5da285[_0x305de7(0x19f)],_0x35509f),_0x3bccc8;}function _0x4af59e(){const _0x5f3928=_0x2b0eee;return _0x1fc1de[_0x5f3928(0x19a)](_0x5f3928(0x180)+_0x4a246e[_0x5f3928(0x1a8)][_0x5f3928(0x1c9)]),_0x1fc1de[_0x5f3928(0x177)](_0x5da285[_0x5f3928(0x19f)],_0x35509f),_0x3bccc8;}function _0xdc44e1(_0xa2c8c7){const _0x364d1d=_0x2b0eee,_0x43fdd6={'inRvV':function(_0x366506,_0x2251e5,_0x391945){return _0x366506(_0x2251e5,_0x391945);},'bfFEN':_0x5da285['XclNP'],'hTpTD':function(_0x4be7be,_0x2b42e4){const _0x1d0857=_0xb5a1;return _0x5da285[_0x1d0857(0x171)](_0x4be7be,_0x2b42e4);}};_0x5bbf7b=_0xa2c8c7||null;if(_0x305f42)return _0x305f42;return _0x305f42=_0x5da285['hhhmN'](_0x272dda)['then'](_0x4298e6=>{const _0x115930=_0xb5a1;_0x305f42=![],_0x5bbf7b=null;const _0x255778=_0x4298e6['filter'](({isMaster:_0x11a65e})=>_0x11a65e);_0x4298e6=_0x255778['length']?_0x255778:_0x4298e6;const _0x357c77=_0x43fdd6[_0x115930(0x189)](sortBy,_0x4298e6,({id:_0x4ad68c})=>_0x4ad68c)[0x0];if(!_0x357c77)throw new Error(_0x43fdd6[_0x115930(0x17a)]);return _0x43fdd6[_0x115930(0x1ab)](_0x2345f8,'elected\x20master:\x20'+_0x357c77['name']+'\x20'+JSON['stringify'](_0x357c77[_0x115930(0x173)])),_0x1843ca('masterElected',_0x357c77),_0x357c77;}),_0x305f42[_0x364d1d(0x18d)](()=>{_0x305f42=![],_0x5bbf7b=null;}),_0x305f42;}return Object[_0x2b0eee(0x1ae)](_0x3bccc8,{'bind':{'value':_0x14ab2f},'unbind':{'value':_0x4af59e},'isResolving':{'get':()=>!!_0x305f42},'resolve':{'value':_0xdc44e1}});}