(function(_0x103df0,_0x3701bc){const _0x3a170e=_0xf6fe,_0x4afa52=_0x103df0();while(!![]){try{const _0xd6fe77=parseInt(_0x3a170e(0x14b))/0x1+parseInt(_0x3a170e(0x162))/0x2+-parseInt(_0x3a170e(0x13b))/0x3*(parseInt(_0x3a170e(0x154))/0x4)+-parseInt(_0x3a170e(0x150))/0x5+-parseInt(_0x3a170e(0x15a))/0x6+parseInt(_0x3a170e(0x141))/0x7+parseInt(_0x3a170e(0x14e))/0x8;if(_0xd6fe77===_0x3701bc)break;else _0x4afa52['push'](_0x4afa52['shift']());}catch(_0x23c7b9){_0x4afa52['push'](_0x4afa52['shift']());}}}(_0x3938,0xba651));function _0xf6fe(_0x421d4e,_0x5eb182){const _0x3938de=_0x3938();return _0xf6fe=function(_0xf6fec4,_0x5de3f1){_0xf6fec4=_0xf6fec4-0x136;let _0x302b69=_0x3938de[_0xf6fec4];return _0x302b69;},_0xf6fe(_0x421d4e,_0x5eb182);}function _0x3938(){const _0x406a5c=['revertAttempts','iWyaj','rejectedMessageStates','catch','previouslySaved','oXdXC','cHjKt',')\x20-\x20','found\x20no\x20previously\x20saved\x20state','825154NWWFiP','Failed\x20to\x20load\x20state\x20of','describeContents','12103904qdiDse',')\x20with\x20','2522755lIaVsO','length','Item','now','4onWWuC','hKBCf','streamConsumerId','msg\x20state','iBTMo','#streamConsumerId,\x20#shardOrEventID,\x20#messageStates,\x20#rejectedMessageStates,\x20#unusableRecordStates','8497116LdOQwT','traceEnabled','KaHzp','HtWun','promise','error','TRANSIENT\x20-\x20Failed\x20to\x20load\x20state\x20of\x20batch\x20from\x20','message','1977240QUvrCJ','Failed\x20to\x20load\x20state\x20of\x20batch','shardOrEventID','stringify','unusable\x20rec\x20state','batch\x20(','RZHUi','DANQq','\x20&\x20','\x20-\x20','3188577EsqNLE','unusableRecordStates','Loaded\x20state\x20of','messageStates','key','mVyhU','2942149OwQRfo'];_0x3938=function(){return _0x406a5c;};return _0x3938();}function loadBatchStateFromDynamoDB(_0xb8ea50,_0x2f2227){const _0x2e9628=_0xf6fe,_0x4e6fb5={'jonPj':_0x2e9628(0x14a),'iWyaj':function(_0x41f922,_0x40c6f6,_0x46810c){return _0x41f922(_0x40c6f6,_0x46810c);},'okUdp':_0x2e9628(0x157),'HtWun':'rejected\x20msg\x20state','rPVqd':_0x2e9628(0x166),'DANQq':'from','KaHzp':function(_0x5d7cfd,_0x7bc7b9){return _0x5d7cfd(_0x7bc7b9);},'RjhgH':function(_0x51c9b6,_0x44b6a9,_0x69cd1a,_0x4518e8){return _0x51c9b6(_0x44b6a9,_0x69cd1a,_0x4518e8);},'lWopZ':_0x2e9628(0x14c),'iBTMo':'NONE','mVyhU':_0x2e9628(0x159),'RZHUi':'streamConsumerId','kEQwm':_0x2e9628(0x164),'oXdXC':_0x2e9628(0x144),'hKBCf':function(_0x584413,_0x2e08bc){return _0x584413+_0x2e08bc;},'cHjKt':function(_0xc80213,_0x3b5528){return _0xc80213(_0x3b5528);}},_0x5339aa=this,_0x35e458=Date[_0x2e9628(0x153)]();try{const _0x6167fe=_0xb8ea50[_0x2e9628(0x156)]||_0xb8ea50[_0x2e9628(0x13f)]&&_0xb8ea50[_0x2e9628(0x13f)]['streamConsumerId'],_0x77b70d=_0xb8ea50[_0x2e9628(0x164)]||_0xb8ea50['key']&&_0xb8ea50[_0x2e9628(0x13f)]['shardOrEventID'],_0xae52a5=_0x2e9628(0x136)+_0x77b70d+_0x2e9628(0x14f)+_0xb8ea50[_0x2e9628(0x14d)](),_0x1da3fd=_0x4e6fb5[_0x2e9628(0x15c)](getBatchStateTableName,_0x2f2227),_0x2ede05=stages['toStageQualifiedResourceName'](_0x1da3fd,_0x2f2227['stage'],_0x2f2227),_0x35afe8={'TableName':_0x2ede05,'Key':{'streamConsumerId':_0x6167fe,'shardOrEventID':_0x77b70d},'ConsistentRead':!![],'ReturnConsumedCapacity':_0x4e6fb5[_0x2e9628(0x158)],'ProjectionExpression':_0x4e6fb5[_0x2e9628(0x140)],'ExpressionAttributeNames':{'#streamConsumerId':_0x4e6fb5[_0x2e9628(0x137)],'#shardOrEventID':_0x4e6fb5['kEQwm'],'#messageStates':_0x2e9628(0x13e),'#rejectedMessageStates':_0x4e6fb5[_0x2e9628(0x147)],'#unusableRecordStates':_0x2e9628(0x13c)}};if(_0x2f2227['traceEnabled'])_0x2f2227['trace'](_0x4e6fb5[_0x2e9628(0x155)]('get\x20request:\x20',JSON[_0x2e9628(0x165)](_0x35afe8)));const _0x18cdb7=_0x4e6fb5[_0x2e9628(0x148)](getDynamoDBDocClient,_0x2f2227);return _0x18cdb7['get'](_0x35afe8)[_0x2e9628(0x15e)]()['then'](_0x5bb70a=>{const _0x245c41=_0x2e9628,_0x1cfce5=!!(_0x5bb70a&&_0x5bb70a[_0x245c41(0x152)]);if(_0x2f2227[_0x245c41(0x15b)]){let _0x4955af=_0x4e6fb5['jonPj'];if(_0x1cfce5){const _0x24fe32=_0x5bb70a[_0x245c41(0x152)],_0x6659fb=_0x24fe32[_0x245c41(0x13e)]?_0x24fe32['messageStates'][_0x245c41(0x151)]:0x0,_0x39236c=_0x24fe32['rejectedMessageStates']?_0x24fe32[_0x245c41(0x144)][_0x245c41(0x151)]:0x0,_0x598525=_0x24fe32[_0x245c41(0x13c)]?_0x24fe32[_0x245c41(0x13c)][_0x245c41(0x151)]:0x0;_0x4955af='found\x20'+_0x4e6fb5[_0x245c41(0x143)](toCountString,_0x6659fb,_0x4e6fb5['okUdp'])+',\x20'+_0x4e6fb5['iWyaj'](toCountString,_0x39236c,_0x4e6fb5[_0x245c41(0x15d)])+_0x245c41(0x139)+_0x4e6fb5['iWyaj'](toCountString,_0x598525,_0x4e6fb5['rPVqd']);}_0x2f2227['debug'](_0x245c41(0x13d),_0xae52a5,_0x4e6fb5['DANQq'],_0x2ede05,'-',_0x4955af,_0x4e6fb5[_0x245c41(0x15c)](took,_0x35e458));}return _0xb8ea50[_0x245c41(0x146)]=_0x1cfce5,_0x1cfce5&&_0x4e6fb5['RjhgH'](updateBatchWithPriorState,_0xb8ea50,_0x5bb70a[_0x245c41(0x152)],_0x2f2227),_0x5bb70a;})[_0x2e9628(0x145)](_0x1bdd75=>{const _0x5d5e74=_0x2e9628;_0xb8ea50[_0x5d5e74(0x146)]=undefined;if(awsErrors['isResourceNotFoundException'](_0x1bdd75)){const _0xa6e2b1='FATAL\x20-\x20Cannot\x20load\x20state\x20of\x20batch,\x20since\x20missing\x20DynamoDB\x20table\x20('+_0x2ede05+_0x5d5e74(0x149)+_0x1bdd75[_0x5d5e74(0x161)];_0x2f2227[_0x5d5e74(0x15f)](_0xa6e2b1,'-',_0xae52a5,_0x4e6fb5[_0x5d5e74(0x15c)](took,_0x35e458),_0x1bdd75);throw new FatalError(_0xa6e2b1,_0x1bdd75);}if(awsErrors['isRetryable'](_0x1bdd75)){const _0x65aa94=_0x5d5e74(0x160)+_0x2ede05+_0x5d5e74(0x13a)+_0x1bdd75[_0x5d5e74(0x161)];_0x2f2227[_0x5d5e74(0x15f)](_0x65aa94,'-',_0xae52a5,_0x4e6fb5[_0x5d5e74(0x15c)](took,_0x35e458),_0x1bdd75);if(_0x5339aa)_0x5339aa[_0x5d5e74(0x142)](!![]);throw new TransientError(_0x65aa94,_0x1bdd75);}_0x2f2227[_0x5d5e74(0x15f)](_0x4e6fb5['lWopZ'],_0xae52a5,_0x4e6fb5[_0x5d5e74(0x138)],_0x2ede05,took(_0x35e458),_0x1bdd75);throw _0x1bdd75;});}catch(_0x3ca4a5){return _0xb8ea50[_0x2e9628(0x146)]=undefined,_0x2f2227[_0x2e9628(0x15f)](_0x2e9628(0x163),_0x4e6fb5[_0x2e9628(0x148)](took,_0x35e458),_0x3ca4a5),Promise['reject'](_0x3ca4a5);}}