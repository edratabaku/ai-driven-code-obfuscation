function _0xa3e8(){const _0x16cc87=['kWaoj','RootResourceId','jEhJR','zNaOV','kKVvM','true','NcHaD','join','AWS::ApiGateway::Resource','uolrt','IntegrationHttpMethod','ZAWBc','APIEndpoint','AWS::Lambda::Permission','JOgoT','ref','CWLmu','10000','HBwyP','vMYyB','https://github.com/mapbox/lambda-cfn/blob/master/alarms.md#Api4xxAlarm','Resources','zjLXf','stackName','Method','prod','arn:aws:execute-api:','98eZuIcg','APIName','gLXSW','Type','None','methodResponses','opoAb','getAtt','YuLNW','2921168ncOAmZ','accountId','ApiGateway','279012cnwsap','nVXGd','GreaterThanThreshold','ApiCountAlarm','split','1212735kqhYpm','tpqqf','ceifj','method','toUpperCase','apigateway.amazonaws.com','Empty','Sum','qEJha','AWS::CloudWatch::Alarm','fbyjT','AWS::ApiGateway::RestApi','SCLRD','fHaNL','ApiKeyRequired','https://github.com/mapbox/lambda-cfn/blob/master/alarms.md#ApiCountAlarm','OVqTV','vrtQT','doZdO','isArray','IntegrationResponses','mpOzG','nCrHK','4xxError','HsZMt','xgzuj','ApiKey','200','OwTIY','Arn','region','AWS::ApiGateway::ApiKey','AWS/ApiGateway','.execute-api.','Cbbkd','yKdKq','ngxKf',':lambda:path/2015-03-31/functions/','100','irNTT','oBXmR','nNxug','500','ApiLatencyAlarm','webhook','Latency','apiKey','YNtan','Properties','gePHU','ENiJa','51540thvYsO','UccFk','Permission','AWS::ApiGateway::Deployment','6|4|5|0|1|3|2','Resource','Webhook','Api4xxAlarm','POST','1542856NQmazI','lambda:InvokeFunction','zaQNs','Outputs','integration','653258KCmguo','name','pAdKm','fhglk','naMKU','4559440WkkUcw','PBAOf','AhpqY','^(?i)(error|exception).*','https://github.com/mapbox/lambda-cfn/blob/master/alarms.md#ApiLatencyAlarm','https://','eventSources','Uri','toLowerCase'];_0xa3e8=function(){return _0x16cc87;};return _0xa3e8();}function _0x5116(_0x2ca63e,_0x10ae53){const _0xa3e8d0=_0xa3e8();return _0x5116=function(_0x511619,_0x48e980){_0x511619=_0x511619-0xda;let _0x10991f=_0xa3e8d0[_0x511619];return _0x10991f;},_0x5116(_0x2ca63e,_0x10ae53);}(function(_0x582750,_0x405b92){const _0x33f7fd=_0x5116,_0x51dbb7=_0x582750();while(!![]){try{const _0x476243=-parseInt(_0x33f7fd(0x102))/0x1+parseInt(_0x33f7fd(0xfd))/0x2+parseInt(_0x33f7fd(0x137))/0x3+-parseInt(_0x33f7fd(0x134))/0x4+parseInt(_0x33f7fd(0x13c))/0x5+-parseInt(_0x33f7fd(0xf4))/0x6*(-parseInt(_0x33f7fd(0x12b))/0x7)+parseInt(_0x33f7fd(0x107))/0x8;if(_0x476243===_0x405b92)break;else _0x51dbb7['push'](_0x51dbb7['shift']());}catch(_0x4a3f6a){_0x51dbb7['push'](_0x51dbb7['shift']());}}}(_0xa3e8,0x64fb3));function buildWebhookEvent(_0x4c1499){const _0xf1985c=_0x5116,_0x1d371c={'oBXmR':function(_0x2f6b42,_0x1aa2cf){return _0x2f6b42+_0x1aa2cf;},'jEhJR':_0xf1985c(0xfa),'fSqnA':function(_0x4c51e6,_0xb6c867){return _0x4c51e6(_0xb6c867);},'gLXSW':function(_0x1b0dcc,_0x4b3d1d){return _0x1b0dcc+_0x4b3d1d;},'nNxug':_0xf1985c(0xf9),'KVLBH':_0xf1985c(0x118),'UccFk':_0xf1985c(0x136),'nVXGd':_0xf1985c(0x111),'HsZMt':_0xf1985c(0xf8),'yKdKq':_0xf1985c(0xfc),'xgzuj':'arn:aws:apigateway:','nCrHK':_0xf1985c(0xe6),'NcHaD':_0xf1985c(0xde),'fhglk':'/invocations','ZAWBc':_0xf1985c(0x128),'UOQSV':_0xf1985c(0x12f),'PBAOf':_0xf1985c(0xeb),'ceifj':_0xf1985c(0x10a),'CWLmu':'AWS','fHaNL':_0xf1985c(0x142),'pAdKm':function(_0x1b7eb2,_0x208230){return _0x1b7eb2+_0x208230;},'ENiJa':'lambda:InvokeFunction','gePHU':'arn:aws:execute-api:','SCLRD':function(_0x35ec21,_0x2232f5){return _0x35ec21+_0x2232f5;},'HBwyP':_0xf1985c(0x115),'Cbbkd':'ApiKey','Zdicv':_0xf1985c(0xe0),'opoAb':function(_0x528205,_0x57a398){return _0x528205+_0x57a398;},'AhpqY':_0xf1985c(0x129),'qEJha':_0xf1985c(0xf7),'JOgoT':_0xf1985c(0xec),'zjLXf':_0xf1985c(0x10b),'vMYyB':'ServiceAlarmSNSTopic','tpqqf':'AWS/ApiGateway','doZdO':_0xf1985c(0x12c),'kKVvM':_0xf1985c(0x139),'YNtan':_0xf1985c(0xfb),'vrtQT':_0xf1985c(0x145),'OVqTV':_0xf1985c(0xe7),'mpOzG':_0xf1985c(0x124),'kyriG':_0xf1985c(0x143),'OwTIY':_0xf1985c(0x121),'kWaoj':_0xf1985c(0x14b),'aSPFu':'Count','YuLNW':'Permission','uolrt':'AWS::Lambda::Permission','irNTT':_0xf1985c(0x141),'ngxKf':function(_0x2caf49,_0x16e0ea){return _0x2caf49+_0x16e0ea;},'fbyjT':_0xf1985c(0x11c),'naMKU':_0xf1985c(0xe2),'zNaOV':'.amazonaws.com/prod/','zaQNs':function(_0x29de25,_0x1e4e88){return _0x29de25+_0x1e4e88;}},_0x35dffa=_0x1d371c[_0xf1985c(0xe9)](_0x4c1499[_0xf1985c(0x103)],_0x1d371c[_0xf1985c(0x112)]);let _0x480246={'Resources':{},'Outputs':{}};_0x1d371c['fSqnA'](validteWebhookOptions,_0x4c1499),_0x480246[_0xf1985c(0x125)][_0x1d371c[_0xf1985c(0x12d)](_0x35dffa,_0x1d371c[_0xf1985c(0xea)])]={'Type':_0x1d371c['KVLBH'],'Properties':{'ParentId':cf['getAtt'](_0x1d371c[_0xf1985c(0xe9)](_0x35dffa,_0x1d371c[_0xf1985c(0xf5)]),_0x1d371c[_0xf1985c(0x138)]),'RestApiId':cf['ref'](_0x1d371c['gLXSW'](_0x35dffa,_0x1d371c[_0xf1985c(0xf5)])),'PathPart':_0x4c1499[_0xf1985c(0x103)][_0xf1985c(0x10f)]()}};if(_0x4c1499['eventSources'][_0xf1985c(0xed)][_0xf1985c(0x13f)]){const _0x13d664=_0x1d371c[_0xf1985c(0x154)][_0xf1985c(0x13b)]('|');let _0x3f5427=0x0;while(!![]){switch(_0x13d664[_0x3f5427++]){case'0':_0x4c1499[_0xf1985c(0x10d)][_0xf1985c(0xed)]['integration'][_0xf1985c(0x11a)]=_0x4c1499[_0xf1985c(0x10d)][_0xf1985c(0xed)][_0xf1985c(0x101)][_0xf1985c(0x11a)]?_0x4c1499[_0xf1985c(0x10d)]['webhook'][_0xf1985c(0x101)][_0xf1985c(0x11a)]:_0x1d371c[_0xf1985c(0xe4)];continue;case'1':_0x4c1499[_0xf1985c(0x10d)]['webhook']['integration']['Uri']=_0x4c1499[_0xf1985c(0x10d)][_0xf1985c(0xed)]['integration'][_0xf1985c(0x10e)]?_0x4c1499[_0xf1985c(0x10d)][_0xf1985c(0xed)][_0xf1985c(0x101)][_0xf1985c(0x10e)]:cf[_0xf1985c(0x117)]([_0x1d371c[_0xf1985c(0xda)],cf[_0xf1985c(0xdf)],_0x1d371c[_0xf1985c(0x152)],cf[_0xf1985c(0x132)](_0x4c1499[_0xf1985c(0x103)],_0x1d371c[_0xf1985c(0x116)]),_0x1d371c[_0xf1985c(0x105)]]);continue;case'2':_0x480246[_0xf1985c(0x125)][_0x1d371c[_0xf1985c(0x12d)](_0x35dffa,_0x1d371c[_0xf1985c(0x11b)])]={'Type':'AWS::ApiGateway::Method','Properties':{'RestApiId':cf[_0xf1985c(0x11f)](_0x1d371c[_0xf1985c(0xe9)](_0x35dffa,_0xf1985c(0x136))),'ResourceId':cf[_0xf1985c(0x11f)](_0x1d371c[_0xf1985c(0xe9)](_0x35dffa,_0x1d371c['nNxug'])),'AuthorizationType':_0x1d371c['UOQSV'],'HttpMethod':_0x4c1499[_0xf1985c(0x10d)][_0xf1985c(0xed)][_0xf1985c(0x13f)][_0xf1985c(0x140)](),'MethodResponses':_0x4c1499[_0xf1985c(0x10d)]['webhook'][_0xf1985c(0x130)],'Integration':_0x4c1499[_0xf1985c(0x10d)]['webhook']['integration']}};continue;case'3':_0x4c1499[_0xf1985c(0x10d)][_0xf1985c(0xed)][_0xf1985c(0x101)]['IntegrationResponses']=_0x4c1499[_0xf1985c(0x10d)][_0xf1985c(0xed)][_0xf1985c(0x101)][_0xf1985c(0x150)]?_0x4c1499[_0xf1985c(0x10d)][_0xf1985c(0xed)][_0xf1985c(0x101)]['IntegrationResponses']:[{'StatusCode':_0xf1985c(0xdc)},{'StatusCode':_0x1d371c[_0xf1985c(0x108)],'SelectionPattern':_0x1d371c[_0xf1985c(0x13e)]}];continue;case'4':!_0x4c1499['eventSources'][_0xf1985c(0xed)]['integration']&&(_0x4c1499[_0xf1985c(0x10d)][_0xf1985c(0xed)][_0xf1985c(0x101)]={});continue;case'5':_0x4c1499['eventSources'][_0xf1985c(0xed)][_0xf1985c(0x101)][_0xf1985c(0x12e)]=_0x4c1499[_0xf1985c(0x10d)][_0xf1985c(0xed)]['integration']['Type']?_0x4c1499['eventSources'][_0xf1985c(0xed)]['integration'][_0xf1985c(0x12e)]:_0x1d371c[_0xf1985c(0x120)];continue;case'6':if(!_0x4c1499[_0xf1985c(0x10d)][_0xf1985c(0xed)][_0xf1985c(0x130)])_0x4c1499[_0xf1985c(0x10d)][_0xf1985c(0xed)][_0xf1985c(0x130)]=[{'StatusCode':_0xf1985c(0xdc),'ResponseModels':{'application/json':_0x1d371c[_0xf1985c(0x149)]}},{'StatusCode':_0xf1985c(0xeb),'ResponseModels':{'application/json':_0x1d371c[_0xf1985c(0x149)]}}];else{if(!Array[_0xf1985c(0x14f)](_0x4c1499[_0xf1985c(0x10d)][_0xf1985c(0xed)][_0xf1985c(0x130)]))throw new Error('Webhook\x20method\x20responses\x20is\x20not\x20an\x20array');}continue;}break;}}_0x480246[_0xf1985c(0x125)][_0x1d371c[_0xf1985c(0x104)](_0x35dffa,_0xf1985c(0xf6))]={'Type':_0xf1985c(0x11d),'Properties':{'FunctionName':cf['getAtt'](_0x4c1499[_0xf1985c(0x103)],_0x1d371c[_0xf1985c(0x116)]),'Action':_0x1d371c[_0xf1985c(0xf3)],'Principal':_0xf1985c(0x141),'SourceArn':cf[_0xf1985c(0x117)]([_0x1d371c[_0xf1985c(0xf2)],cf[_0xf1985c(0xdf)],':',cf[_0xf1985c(0x135)],':',cf[_0xf1985c(0x11f)](_0x1d371c['pAdKm'](_0x35dffa,_0xf1985c(0x136))),'/*'])}},_0x480246[_0xf1985c(0x125)][_0x1d371c[_0xf1985c(0x148)](_0x35dffa,_0x1d371c[_0xf1985c(0xf5)])]={'Type':_0xf1985c(0x147),'Properties':{'Name':cf[_0xf1985c(0x127)],'FailOnWarnings':_0x1d371c[_0xf1985c(0x122)]}};let _0xd35bae=getApiDeploymentName();return _0x480246[_0xf1985c(0x125)][_0x35dffa+_0x1d371c[_0xf1985c(0xe3)]]={'Type':_0x1d371c['Zdicv'],'DependsOn':_0x35dffa+_0xd35bae,'Properties':{'Name':cf['stackName'],'Enabled':_0x1d371c[_0xf1985c(0x122)],'StageKeys':[{'RestApiId':cf['ref'](_0x1d371c[_0xf1985c(0x131)](_0x35dffa,'ApiGateway')),'StageName':_0x1d371c[_0xf1985c(0x109)]}]}},_0x480246[_0xf1985c(0x125)][_0x35dffa+_0xd35bae]={'Type':_0x1d371c[_0xf1985c(0x144)],'DependsOn':_0x35dffa+_0x1d371c['ZAWBc'],'Properties':{'RestApiId':cf[_0xf1985c(0x11f)](_0x1d371c[_0xf1985c(0x148)](_0x35dffa,_0x1d371c[_0xf1985c(0xf5)])),'StageName':_0x1d371c[_0xf1985c(0x109)]}},_0x480246[_0xf1985c(0x125)][_0x1d371c[_0xf1985c(0x12d)](_0x35dffa,_0x1d371c[_0xf1985c(0x11e)])]={'Type':_0xf1985c(0x145),'Properties':{'EvaluationPeriods':'5','Statistic':_0xf1985c(0x143),'Threshold':'4','AlarmDescription':_0x1d371c[_0xf1985c(0x126)],'Period':'60','AlarmActions':[cf[_0xf1985c(0x11f)](_0x1d371c[_0xf1985c(0x123)])],'Namespace':_0x1d371c[_0xf1985c(0x13d)],'Dimensions':[{'Name':_0x1d371c[_0xf1985c(0x14e)],'Value':cf[_0xf1985c(0x127)]}],'ComparisonOperator':_0x1d371c[_0xf1985c(0x114)],'MetricName':_0xf1985c(0xee)}},_0x480246[_0xf1985c(0x125)][_0x1d371c[_0xf1985c(0x104)](_0x35dffa,_0x1d371c[_0xf1985c(0xf0)])]={'Type':_0x1d371c[_0xf1985c(0x14d)],'Properties':{'EvaluationPeriods':'5','Statistic':_0xf1985c(0x143),'Threshold':_0x1d371c[_0xf1985c(0x14c)],'AlarmDescription':_0x1d371c[_0xf1985c(0x151)],'Period':'60','AlarmActions':[cf[_0xf1985c(0x11f)](_0x1d371c[_0xf1985c(0x123)])],'Namespace':_0xf1985c(0xe1),'Dimensions':[{'Name':'APIName','Value':cf[_0xf1985c(0x127)]}],'ComparisonOperator':_0xf1985c(0x139),'MetricName':_0xf1985c(0x153)}},_0x480246[_0xf1985c(0x125)][_0x1d371c['pAdKm'](_0x35dffa,_0xf1985c(0x13a))]={'Type':_0x1d371c[_0xf1985c(0x14d)],'Properties':{'EvaluationPeriods':'5','Statistic':_0x1d371c['kyriG'],'Threshold':_0x1d371c[_0xf1985c(0xdd)],'AlarmDescription':_0x1d371c[_0xf1985c(0x110)],'Period':'60','AlarmActions':[cf[_0xf1985c(0x11f)](_0x1d371c[_0xf1985c(0x123)])],'Namespace':_0x1d371c[_0xf1985c(0x13d)],'Dimensions':[{'Name':_0x1d371c[_0xf1985c(0x14e)],'Value':cf['stackName']}],'ComparisonOperator':_0x1d371c['kKVvM'],'MetricName':_0x1d371c['aSPFu']}},_0x480246[_0xf1985c(0x125)][_0x35dffa+_0x1d371c[_0xf1985c(0x133)]]={'Type':_0x1d371c[_0xf1985c(0x119)],'Properties':{'FunctionName':cf['getAtt'](_0x4c1499[_0xf1985c(0x103)],_0xf1985c(0xde)),'Action':_0xf1985c(0xfe),'Principal':_0x1d371c[_0xf1985c(0xe8)],'SourceArn':cf[_0xf1985c(0x117)]([_0xf1985c(0x12a),cf['region'],':',cf['accountId'],':',cf[_0xf1985c(0x11f)](_0x1d371c[_0xf1985c(0xe9)](_0x35dffa,'ApiGateway')),'/*'])}},_0x480246[_0xf1985c(0x100)][_0x1d371c[_0xf1985c(0xe5)](_0x35dffa,_0x1d371c[_0xf1985c(0x146)])]={'Value':cf[_0xf1985c(0x117)]([_0xf1985c(0x10c),cf[_0xf1985c(0x11f)](_0x35dffa+_0x1d371c[_0xf1985c(0xf5)]),_0x1d371c[_0xf1985c(0x106)],cf[_0xf1985c(0xdf)],_0x1d371c[_0xf1985c(0x113)],_0x4c1499[_0xf1985c(0x103)][_0xf1985c(0x10f)]()])},_0x4c1499[_0xf1985c(0x10d)][_0xf1985c(0xed)][_0xf1985c(0xef)]&&(_0x480246[_0xf1985c(0x125)][_0x1d371c[_0xf1985c(0x148)](_0x35dffa,_0x1d371c[_0xf1985c(0x11b)])][_0xf1985c(0xf1)][_0xf1985c(0x14a)]=_0x1d371c[_0xf1985c(0x122)],_0x480246[_0xf1985c(0x100)][_0x1d371c['opoAb'](_0x35dffa,_0xf1985c(0xdb))]={'Value':cf['ref'](_0x1d371c[_0xf1985c(0xff)](_0x35dffa,_0x1d371c[_0xf1985c(0xe3)]))}),_0x480246;}