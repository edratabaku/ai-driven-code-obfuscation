function _0x2438(){const _0x5513ba=['401016JHQHYx','dCMpl','24ckJijk','TlsKv','2VeUSbr','query','function','1023ajTTvA','simple','195460ZgxnxX','Organization\x20','tNKeK','biyMs','1015tHSmGr','policy','series','NwXjO','261NytVWg','badRequest','110508bVAhRK','667992ErNXCK','map','badImplementation','rowCount','organization','readById','1053647PtuNDf','14772pJkmbk','314822tEWuJL','rows','iTaMe','QBXVH','\x20not\x20found','push'];_0x2438=function(){return _0x5513ba;};return _0x2438();}function _0x4beb(_0x71aa97,_0x1d4d36){const _0x24382f=_0x2438();return _0x4beb=function(_0x4beb20,_0x27a069){_0x4beb20=_0x4beb20-0xc1;let _0x37fe0e=_0x24382f[_0x4beb20];return _0x37fe0e;},_0x4beb(_0x71aa97,_0x1d4d36);}(function(_0x277d17,_0x570818){const _0x351f55=_0x4beb,_0x49efeb=_0x277d17();while(!![]){try{const _0x12c8ed=-parseInt(_0x351f55(0xde))/0x1*(parseInt(_0x351f55(0xd4))/0x2)+-parseInt(_0x351f55(0xcc))/0x3+parseInt(_0x351f55(0xd3))/0x4*(-parseInt(_0x351f55(0xc5))/0x5)+parseInt(_0x351f55(0xda))/0x6+parseInt(_0x351f55(0xd2))/0x7*(parseInt(_0x351f55(0xdc))/0x8)+-parseInt(_0x351f55(0xc9))/0x9*(-parseInt(_0x351f55(0xc1))/0xa)+parseInt(_0x351f55(0xe1))/0xb*(parseInt(_0x351f55(0xcb))/0xc);if(_0x12c8ed===_0x570818)break;else _0x49efeb['push'](_0x49efeb['shift']());}catch(_0x1535b6){_0x49efeb['push'](_0x49efeb['shift']());}}}(_0x2438,0x9fca9));function readById(_0x5a7933,_0x98fd8c){const _0x2d09e1=_0x4beb,_0x325c59={'NwXjO':function(_0x1cf177){return _0x1cf177();},'tNKeK':function(_0x4a00e5,_0x24713b){return _0x4a00e5===_0x24713b;},'QBXVH':function(_0x21a57e,_0x26801a){return _0x21a57e(_0x26801a);},'iTaMe':function(_0x206008,_0x280e45,_0x59d42e){return _0x206008(_0x280e45,_0x59d42e);},'fqpWk':function(_0x4ec504,_0x112d97){return _0x4ec504!==_0x112d97;},'dCMpl':_0x2d09e1(0xe0)};let _0x23e2b8=null;if(_0x325c59['fqpWk'](typeof _0x98fd8c,_0x325c59[_0x2d09e1(0xdb)]))[_0x23e2b8,_0x98fd8c]=asyncify();let _0x3f3cfd;const _0x396d1e=[];return _0x396d1e['push'](_0x129fe0=>{const _0x261516=_0x2d09e1;Joi['validate'](_0x5a7933,validationRules[_0x261516(0xd1)],_0x55abd8=>{const _0x5e5073=_0x261516;if(_0x55abd8)return _0x129fe0(Boom[_0x5e5073(0xca)](_0x55abd8));_0x325c59[_0x5e5073(0xc8)](_0x129fe0);});}),_0x396d1e[_0x2d09e1(0xd9)](_0x1522ae=>{const _0x5add5a=_0x2d09e1,_0x18037e={'biyMs':function(_0x3e2c7d,_0x4c22b8){const _0x25dbd4=_0x4beb;return _0x325c59[_0x25dbd4(0xc3)](_0x3e2c7d,_0x4c22b8);},'UmdcJ':function(_0x49827e,_0x2d95d3){const _0x49d200=_0x4beb;return _0x325c59[_0x49d200(0xd7)](_0x49827e,_0x2d95d3);}},_0x26be35=SQL`
          SELECT *
          FROM organizations
          WHERE id = ${_0x5a7933}
        `;db[_0x5add5a(0xdf)](_0x26be35,(_0x2c06b8,_0x26a071)=>{const _0x342bde=_0x5add5a;if(_0x2c06b8)return _0x1522ae(Boom['badImplementation'](_0x2c06b8));if(_0x18037e[_0x342bde(0xc4)](_0x26a071[_0x342bde(0xcf)],0x0))return _0x18037e['UmdcJ'](_0x1522ae,Boom['notFound'](_0x342bde(0xc2)+_0x5a7933+_0x342bde(0xd8)));_0x3f3cfd=mapping[_0x342bde(0xd0)](_0x26a071['rows'][0x0]),_0x1522ae();});}),_0x396d1e[_0x2d09e1(0xd9)](_0x216dce=>{const _0x461deb=_0x2d09e1,_0x25cd5f={'TlsKv':function(_0x58b285,_0x103ff7){return _0x58b285(_0x103ff7);},'qnUkD':function(_0x5775b8){const _0x2b1c7f=_0x4beb;return _0x325c59[_0x2b1c7f(0xc8)](_0x5775b8);}},_0x2239ab=SQL`
          SELECT pol.id, pol.name, pol.version, org_pol.variables, org_pol.policy_instance
          FROM organization_policies org_pol, policies pol
          WHERE org_pol.org_id = ${_0x5a7933} AND org_pol.policy_id = pol.id
          ORDER BY UPPER(pol.name)
        `;db[_0x461deb(0xdf)](_0x2239ab,(_0x3b493d,_0x2a9b3a)=>{const _0x5bcba5=_0x461deb;if(_0x3b493d)return _0x25cd5f[_0x5bcba5(0xdd)](_0x216dce,Boom[_0x5bcba5(0xce)](_0x3b493d));_0x3f3cfd['policies']=_0x2a9b3a[_0x5bcba5(0xd5)][_0x5bcba5(0xcd)](mapping[_0x5bcba5(0xc6)][_0x5bcba5(0xe2)]),_0x25cd5f['qnUkD'](_0x216dce);});}),async[_0x2d09e1(0xc7)](_0x396d1e,_0x815e32=>{const _0x2a9db5=_0x2d09e1;if(_0x815e32)return _0x325c59['QBXVH'](_0x98fd8c,_0x815e32);return _0x325c59[_0x2a9db5(0xd6)](_0x98fd8c,null,_0x3f3cfd);}),_0x23e2b8;}