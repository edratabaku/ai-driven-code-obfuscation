function _0x27d1(_0x253da4,_0x479d05){const _0x28935d=_0x2893();return _0x27d1=function(_0x27d1dd,_0x3b495d){_0x27d1dd=_0x27d1dd-0x1d7;let _0x1ffcb6=_0x28935d[_0x27d1dd];return _0x1ffcb6;},_0x27d1(_0x253da4,_0x479d05);}function _0x2893(){const _0x4f4896=['error','9828528IwxRzq','fqOmm','81423HXxJHu','715554ScsLhh','NEdMZ','\x20-\x20','now','previouslySaved','traceEnabled','reject','rejectedMessages','252laFnGd','jDLDg','TRANSIENT\x20-\x20Failed\x20to\x20save\x20state\x20of\x20batch\x20to\x20','503026aBzBHH','describe','then','1CMsYtw','messages','message','stage','GWVuM','FATAL\x20-\x20Cannot\x20save\x20state\x20of\x20batch,\x20since\x20missing\x20DynamoDB\x20table\x20(','290tDrCll','key','\x20WITHOUT\x20a\x20complete\x20batch\x20key\x20-\x20streamConsumerId\x20(','streamConsumerId','resolve','Gkqam','length',')\x20-\x20','28432PUzgxi','trace','shardOrEventID','12Eslfdg','Cannot\x20save\x20state\x20of\x20batch\x20to\x20','5Lugmqy','444861RvooRg','4623421OOykXg'];_0x2893=function(){return _0x4f4896;};return _0x2893();}(function(_0x22d606,_0x41909d){const _0x3680b9=_0x27d1,_0x3f9808=_0x22d606();while(!![]){try{const _0x3c0201=-parseInt(_0x3680b9(0x1f5))/0x1*(parseInt(_0x3680b9(0x1f2))/0x2)+-parseInt(_0x3680b9(0x1e1))/0x3*(parseInt(_0x3680b9(0x1de))/0x4)+parseInt(_0x3680b9(0x1e0))/0x5*(parseInt(_0x3680b9(0x1e7))/0x6)+parseInt(_0x3680b9(0x1ef))/0x7*(-parseInt(_0x3680b9(0x1db))/0x8)+parseInt(_0x3680b9(0x1e6))/0x9*(-parseInt(_0x3680b9(0x1fb))/0xa)+parseInt(_0x3680b9(0x1e2))/0xb+parseInt(_0x3680b9(0x1e4))/0xc;if(_0x3c0201===_0x41909d)break;else _0x3f9808['push'](_0x3f9808['shift']());}catch(_0x324611){_0x3f9808['push'](_0x3f9808['shift']());}}}(_0x2893,0x4263d));function saveBatchStateToDynamoDB(_0x8df0ae,_0x1bda32){const _0x46753e=_0x27d1,_0x8f3d50={'GWVuM':function(_0x2a1f36,_0x290527){return _0x2a1f36(_0x290527);},'dWoPo':function(_0x2414df,_0x495710){return _0x2414df<=_0x495710;},'pcSnw':function(_0x3e52d9,_0x47c331){return _0x3e52d9<=_0x47c331;},'fqOmm':'Skipping\x20save\x20state\x20of\x20an\x20empty\x20batch\x20-\x20','Gkqam':function(_0x59c3d4,_0x5b4ece){return _0x59c3d4(_0x5b4ece);},'jDLDg':function(_0x4f801d,_0x3db0aa,_0x1ab512,_0x1c80a8,_0x4616a7,_0x8cd56){return _0x4f801d(_0x3db0aa,_0x1ab512,_0x1c80a8,_0x4616a7,_0x8cd56);},'NEdMZ':'Failed\x20to\x20save\x20state\x20of\x20'},_0x5f26fb=this,_0x2deabf=Date[_0x46753e(0x1ea)]();try{const _0x12ccb3=_0x8df0ae[_0x46753e(0x1fe)]||_0x8df0ae[_0x46753e(0x1fc)]&&_0x8df0ae[_0x46753e(0x1fc)][_0x46753e(0x1fe)],_0x2acbf1=_0x8df0ae[_0x46753e(0x1dd)]||_0x8df0ae[_0x46753e(0x1fc)]&&_0x8df0ae['key'][_0x46753e(0x1dd)],_0x433e34=getBatchStateTableName(_0x1bda32),_0x148b78=stages['toStageQualifiedResourceName'](_0x433e34,_0x1bda32[_0x46753e(0x1f8)],_0x1bda32);if(_0x8f3d50[_0x46753e(0x1f9)](isBlank,_0x12ccb3)||isBlank(_0x2acbf1)){if(_0x8f3d50['dWoPo'](_0x8df0ae[_0x46753e(0x1f6)]['length'],0x0)&&_0x8f3d50['dWoPo'](_0x8df0ae[_0x46753e(0x1ee)][_0x46753e(0x1d9)],0x0)&&_0x8f3d50['pcSnw'](_0x8df0ae['unusableRecords'][_0x46753e(0x1d9)],0x0))return _0x1bda32['warn'](_0x8f3d50[_0x46753e(0x1e5)],_0x8df0ae[_0x46753e(0x1f3)](![])),Promise[_0x46753e(0x1d7)](undefined);const _0x2afd99=_0x46753e(0x1df)+_0x148b78+_0x46753e(0x1fd)+_0x12ccb3+')\x20&\x20shardOrEventID\x20('+_0x2acbf1+')';return _0x1bda32['error'](_0x2afd99,'-',_0x8df0ae[_0x46753e(0x1f3)](![])),Promise[_0x46753e(0x1ed)](new Error(_0x2afd99));}const _0x5a59c7=toBatchStateItem(_0x8df0ae,_0x1bda32);if(!_0x5a59c7){const _0x242490=_0x46753e(0x1df)+_0x148b78+',\x20since\x20no\x20batch\x20state\x20item\x20was\x20resolved';return _0x1bda32[_0x46753e(0x1e3)](_0x242490,'-',_0x8df0ae[_0x46753e(0x1f3)](![])),Promise[_0x46753e(0x1ed)](new Error(_0x242490));}const _0x415d4d=_0x8f3d50['Gkqam'](getDynamoDBDocClient,_0x1bda32);return(_0x8df0ae[_0x46753e(0x1eb)]?_0x8f3d50['jDLDg'](updateBatchState,_0x415d4d,_0x148b78,_0x5a59c7,_0x8df0ae,_0x1bda32):_0x8f3d50[_0x46753e(0x1f0)](insertBatchState,_0x415d4d,_0x148b78,_0x5a59c7,_0x8df0ae,_0x1bda32))[_0x46753e(0x1f4)](_0x57cb8e=>{const _0x331dc1=_0x46753e;return _0x1bda32[_0x331dc1(0x1ec)]&&_0x1bda32[_0x331dc1(0x1dc)]('Saved\x20state\x20of\x20batch\x20to\x20'+_0x148b78+'\x20-',_0x8df0ae[_0x331dc1(0x1f3)](![]),took(_0x2deabf)),_0x57cb8e;},_0x45ca5c=>{const _0x322b57=_0x46753e;if(awsErrors['isResourceNotFoundException'](_0x45ca5c)){const _0x33b63f=_0x322b57(0x1fa)+_0x148b78+_0x322b57(0x1da)+_0x45ca5c[_0x322b57(0x1f7)];_0x1bda32['error'](_0x33b63f,'-',_0x8df0ae[_0x322b57(0x1f3)](![]),took(_0x2deabf),_0x45ca5c);throw new FatalError(_0x33b63f,_0x45ca5c);}if(awsErrors['isRetryable'](_0x45ca5c)){const _0x3103b5=_0x322b57(0x1f1)+_0x148b78+_0x322b57(0x1e9)+_0x45ca5c['message'];_0x1bda32[_0x322b57(0x1e3)](_0x3103b5,'-',_0x8df0ae[_0x322b57(0x1f3)](![]),took(_0x2deabf),_0x45ca5c);if(_0x5f26fb)_0x5f26fb['revertAttempts'](!![]);throw new TransientError(_0x3103b5,_0x45ca5c);}_0x1bda32[_0x322b57(0x1e3)]('Failed\x20to\x20save\x20state\x20of\x20batch\x20to\x20'+_0x148b78+'\x20-',_0x8df0ae[_0x322b57(0x1f3)](![]),_0x8f3d50[_0x322b57(0x1f9)](took,_0x2deabf),_0x45ca5c);throw _0x45ca5c;});}catch(_0x4234f4){return _0x1bda32[_0x46753e(0x1e3)](_0x8f3d50[_0x46753e(0x1e8)],_0x8df0ae[_0x46753e(0x1f3)](![]),_0x8f3d50[_0x46753e(0x1d8)](took,_0x2deabf),_0x4234f4),Promise[_0x46753e(0x1ed)](_0x4234f4);}}