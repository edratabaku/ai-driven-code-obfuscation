function _0x86f0(){const _0x53a59e=['cFUlf','sent_echo_string','I\x27m\x20not\x20a\x20hub','ozXuz','QMzrp','series','Incompatible\x20versions,\x20mine\x20','device_address','version','signature','hub/delete','receivedPushProjectNumber','You\x20are\x20not\x20my\x20light\x20vendor','gguXf','info','BJvox','\x20INTO\x20watched_light_addresses\x20(peer,\x20address)\x20VALUES\x20(?,?)','EVCpH','XxPOM','ZeNeA','GIJnw','yQaAm','result','6379248fOiTEu','OQxaC','light/have_updates','wrong\x20signature\x20length','updateLastRoundIndexFromPeers','NscJz','JWOdm','EJwZA','Wrskx','INSERT\x20INTO\x20devices\x20(device_address,\x20pubkey)\x20VALUES\x20(?,?)','bAdvertisedOwnUrl','bLoginComplete','aNWfX','nhasX','67278qyeEHu','ygQIt','watched\x20unit\x20','new_version','hub/message_box_status','WeFwJ','unit','address\x20created','is_stable','AKQoQ','JUEvD','oPxZC','fcIjp','wrong\x20pubkey\x20length','error','ignoreBugreportRegexp','want_echo','library_version','mtVYk','469KxWqlP','VCjHd','addQuery','SELECT\x201\x20FROM\x20archived_joints\x20WHERE\x20unit=?\x20AND\x20reason=\x27uncovered\x27','EshAq','590631tWzvag','alt','mEtHa','VIubn','bLoggingIn','getDeviceAddress','lwFxK','pushApiProjectNumber','exception','forEach','SELECT\x20creation_date\x20AS\x20latest_url_change_date,\x20url\x20\x09\x09\x09\x09FROM\x20peer_host_urls\x20\x09\x09\x09\x09WHERE\x20peer_host\x20=\x20?\x20ORDER\x20BY\x20creation_date\x20DESC\x20LIMIT\x201','I\x27m\x20not\x20light','claimed_url','onLoginComplete','xoWZe','\x20INTO\x20peers\x20(peer_host,\x20peer,\x20learnt_from_peer_host)\x20VALUES\x20(?,?,?)','getNow','jESGL','private_payment','ball','VZEVr','only\x20requested\x20joint\x20can\x20contain\x20a\x20ball','vdGXi','hub/push_project_number','I\x27m\x20light\x20myself,\x20can\x27t\x20serve\x20you','pSjMZ','SERVER\x20SIDE:\x20received\x20message\x20\x27your_echo\x27,\x20invalid\x20oWs.claimed_url:\x20','IaEPL','UPDATE\x20peer_host_urls\x20SET\x20is_active=NULL,\x20revocation_date=','getDeviceMessageHashToSign','light\x20clients\x20have\x20to\x20be\x20inbound','wss://','inEhx','INSERT\x20INTO\x20peer_host_urls\x20(peer_host,\x20url)\x20VALUES\x20(?,?)','please\x20log\x20in\x20first','rCSWN','bOutbound','indexOf','hub/refresh','SIG_LENGTH','gammM','ws://','pubkey','11aoNrEn','your_echo','getIgnore','protocol_version','test','randomBytes','EENDZ','jCses','EGKaW','emit','Incompatible\x20alts,\x20mine\x20','557724NiwqBR','ZUzBO','\x20not\x20found','lpAlO','DELETE\x20FROM\x20device_messages\x20WHERE\x20device_address=?\x20AND\x20message_hash=?','yBobt','wrong\x20challenge','push_outbound_peers','WxPkc','GJlzG','Bggbl','ViOBj','bugreport','\x20!==\x20','url','RwFqk','incompatible\x20versions','wzrGn','no\x20login\x20params','now','address\x20not\x20valid','hub/message','EIogD','no\x20message\x20hash','ignoring\x20bugreport','Eftwe','VVhqk','bLight','LDxig','cEBKV','20zRuiED','yYiGR','refresh','sendBugEmail','log','challenge','host','bLoggedIn','MHMFv','SELECT\x20unit,\x20is_stable\x20FROM\x20unit_authors\x20JOIN\x20units\x20USING(unit)\x20WHERE\x20address=?\x20\x0a\x09\x09\x09\x09\x09UNION\x20\x0a\x09\x09\x09\x09\x09SELECT\x20unit,\x20is_stable\x20FROM\x20outputs\x20JOIN\x20units\x20USING(unit)\x20WHERE\x20address=?\x20\x0a\x09\x09\x09\x09\x09ORDER\x20BY\x20is_stable\x20LIMIT\x2010','isValidAddress','PHdcq','query','isNonnegativeInteger','new_direct_private_chains','LIGjy','bServeAsHub','foKOB','peer_version','13246890oaarVv','INSERT\x20','qzIOf','SELECT\x201\x20FROM\x20devices\x20WHERE\x20device_address=?','ZCtiF','DUjku','message_for_light','hub/login','length','SXggS','TXpvH','light/new_address_to_watch','SERVER\x20SIDE:\x20received\x20message\x20\x27your_echo\x27,\x20sent_echo_string\x20not\x20matched:\x20','bLightVendor','drLyg','ncbbW','1713700mLPxWf','5149413ffkGUR','CGhml','free_joints_end','CCzRj','lKAqN','IRxZm','PUBKEY_LENGTH','txpGA','SCcPS','wrong\x20signature','pushApiKey','1FEOJkR','last_round_index','ByMiY'];_0x86f0=function(){return _0x53a59e;};return _0x86f0();}function _0x2770(_0x290753,_0x160e9b){const _0x86f0af=_0x86f0();return _0x2770=function(_0x277083,_0x3c09ea){_0x277083=_0x277083-0x1b7;let _0x19b006=_0x86f0af[_0x277083];return _0x19b006;},_0x2770(_0x290753,_0x160e9b);}(function(_0x32f679,_0x21df82){const _0x3ffc0a=_0x2770,_0x4399e6=_0x32f679();while(!![]){try{const _0xa373e0=parseInt(_0x3ffc0a(0x1d4))/0x1*(-parseInt(_0x3ffc0a(0x1c8))/0x2)+parseInt(_0x3ffc0a(0x214))/0x3+parseInt(_0x3ffc0a(0x24a))/0x4*(parseInt(_0x3ffc0a(0x268))/0x5)+parseInt(_0x3ffc0a(0x1fc))/0x6*(-parseInt(_0x3ffc0a(0x20f))/0x7)+parseInt(_0x3ffc0a(0x1ee))/0x8+-parseInt(_0x3ffc0a(0x1c9))/0x9+-parseInt(_0x3ffc0a(0x1b8))/0xa*(-parseInt(_0x3ffc0a(0x23f))/0xb);if(_0xa373e0===_0x21df82)break;else _0x4399e6['push'](_0x4399e6['shift']());}catch(_0x773e68){_0x4399e6['push'](_0x4399e6['shift']());}}}(_0x86f0,0xaa062));function handleJustsaying(_0x444937,_0x5842a1,_0x5c248a){const _0x4f3176=_0x2770,_0x13e245={'mEtHa':function(_0x272f21,_0x4cf983){return _0x272f21>_0x4cf983;},'lwFxK':function(_0x163cb6,_0x23cb7,_0x42fc41){return _0x163cb6(_0x23cb7,_0x42fc41);},'ZeNeA':function(_0x586076,_0x594ed1,_0x1995ae){return _0x586076(_0x594ed1,_0x1995ae);},'LDxig':function(_0x5ae1e1,_0x3c438d,_0x4b6561){return _0x5ae1e1(_0x3c438d,_0x4b6561);},'drLyg':'accepted','IXKME':_0x4f3176(0x276),'JWOdm':function(_0xb35026,_0x3fb693,_0x157a2c){return _0xb35026(_0x3fb693,_0x157a2c);},'WeFwJ':_0x4f3176(0x20a),'vdGXi':function(_0x457dfe,_0x37ecca){return _0x457dfe===_0x37ecca;},'IaEPL':function(_0x19532c,_0x1c8656,_0x35b444){return _0x19532c(_0x1c8656,_0x35b444);},'gammM':function(_0x49cfb4){return _0x49cfb4();},'DnpXx':_0x4f3176(0x1f7),'nhasX':function(_0x3fe848,_0x3ad2db,_0x2d8e06){return _0x3fe848(_0x3ad2db,_0x2d8e06);},'Eftwe':function(_0x7177e1,_0x339c58){return _0x7177e1+_0x339c58;},'kKvao':'deleted\x20message\x20','ygQIt':_0x4f3176(0x24c),'VIubn':function(_0x1e2a5c,_0x467b5b){return _0x1e2a5c===_0x467b5b;},'TXpvH':function(_0x12f190,_0xa1370){return _0x12f190===_0xa1370;},'cFUlf':_0x4f3176(0x1f0),'CCzRj':function(_0x2f825d,_0x4c653d,_0x258a98){return _0x2f825d(_0x4c653d,_0x258a98);},'EshAq':'now\x20watching\x20','wzrGn':_0x4f3176(0x271),'ncbbW':_0x4f3176(0x26a),'ZCtiF':function(_0x38b24c,_0x11381c){return _0x38b24c(_0x11381c);},'VVhqk':'version','IRxZm':function(_0x16bcbd,_0x2fc145){return _0x16bcbd!==_0x2fc145;},'EJwZA':function(_0x19ed5c,_0x49cea6){return _0x19ed5c+_0x49cea6;},'BJvox':function(_0x20c648,_0xdf7c40){return _0x20c648+_0xdf7c40;},'Bggbl':',\x20yours\x20','yYiGR':_0x4f3176(0x25a),'Wrskx':function(_0x5ebdfa,_0x5f97de){return _0x5ebdfa+_0x5f97de;},'nADfg':_0x4f3176(0x249),'zVJGr':'incompatible\x20alts','oPxZC':_0x4f3176(0x1b7),'fcIjp':_0x4f3176(0x1ff),'ViOBj':_0x4f3176(0x22b),'ZUzBO':_0x4f3176(0x1e2),'EENDZ':'joint','jESGL':function(_0x2bd7a0,_0x4a13f7,_0x41b304){return _0x2bd7a0(_0x4a13f7,_0x41b304);},'pSjMZ':'no\x20unit','AKQoQ':'I\x27m\x20a\x20light\x20client\x20and\x20you\x20are\x20not\x20my\x20vendor','PHdcq':_0x4f3176(0x212),'berMZ':_0x4f3176(0x1cb),'txpGA':_0x4f3176(0x1ed),'MHMFv':_0x4f3176(0x1e5),'lpAlO':_0x4f3176(0x226),'fJxYG':function(_0x2d0563,_0x123849,_0x20e50f,_0x29416c,_0x5639a9){return _0x2d0563(_0x123849,_0x20e50f,_0x29416c,_0x5639a9);},'EGKaW':function(_0x2695ff,_0x52de28){return _0x2695ff!==_0x52de28;},'QLtXO':_0x4f3176(0x233),'JUEvD':_0x4f3176(0x21e),'foKOB':function(_0x107d70,_0x356064,_0x541280,_0x42a9f8){return _0x107d70(_0x356064,_0x541280,_0x42a9f8);},'jCses':_0x4f3176(0x240),'VCjHd':function(_0x3f306a,_0x9fe898){return _0x3f306a+_0x9fe898;},'QMzrp':_0x4f3176(0x1b9),'lKAqN':'\x20INTO\x20peer_hosts\x20(peer_host)\x20VALUES\x20(?)','SCcPS':_0x4f3176(0x223),'MeeGe':_0x4f3176(0x230),'SXggS':'\x20WHERE\x20peer_host=?','qzIOf':_0x4f3176(0x235),'EIogD':_0x4f3176(0x1bf),'aNWfX':function(_0x2b122d,_0x38ac3e,_0x22a3ef){return _0x2b122d(_0x38ac3e,_0x22a3ef);},'WxPkc':function(_0x27a40e,_0x4a4b0b){return _0x27a40e!==_0x4a4b0b;},'LIGjy':_0x4f3176(0x209),'mtVYk':function(_0x2014b0,_0x10e1e6,_0x549b2f){return _0x2014b0(_0x10e1e6,_0x549b2f);},'cEBKV':_0x4f3176(0x1d2),'yQaAm':_0x4f3176(0x1bb),'EVCpH':_0x4f3176(0x23a),'GIJnw':_0x4f3176(0x236),'IdRMM':_0x4f3176(0x1e1),'OQxaC':function(_0x4dec8b,_0x24f857,_0x5cac37){return _0x4dec8b(_0x24f857,_0x5cac37);},'yBobt':_0x4f3176(0x1d9),'vaCtF':_0x4f3176(0x24e),'gguXf':_0x4f3176(0x25f),'DmBnw':'message_from_hub','xoWZe':function(_0x354ab9,_0x37561f,_0x3a9547){return _0x354ab9(_0x37561f,_0x3a9547);},'nHNXO':_0x4f3176(0x21f),'ozXuz':function(_0x163571,_0x4ed0fe,_0x90766){return _0x163571(_0x4ed0fe,_0x90766);},'inEhx':_0x4f3176(0x1e3),'TwTac':_0x4f3176(0x1be),'VZEVr':_0x4f3176(0x1c3),'CGhml':_0x4f3176(0x22c),'zVfpn':_0x4f3176(0x232),'XxPOM':function(_0x319eec,_0x37a6cb,_0x10be2c){return _0x319eec(_0x37a6cb,_0x10be2c);},'NscJz':_0x4f3176(0x25e),'RwFqk':function(_0x2e9392,_0x4f967d){return _0x2e9392+_0x4f967d;},'ykqok':_0x4f3176(0x1e7),'ByMiY':_0x4f3176(0x251)};switch(_0x5842a1){case _0x13e245[_0x4f3176(0x1c7)]:if(bCatchingUp)return;let _0x1b538d=_0x5c248a;ValidationUtils[_0x4f3176(0x275)](_0x1b538d)?_0x13e245['CCzRj'](sendJointsSinceMci,_0x444937,_0x1b538d):_0x13e245['ZCtiF'](sendFreeJoints,_0x444937);break;case _0x13e245[_0x4f3176(0x264)]:if(!_0x5c248a)return;if(_0x13e245[_0x4f3176(0x1ce)](_0x5c248a[_0x4f3176(0x242)],constants[_0x4f3176(0x1df)])){sendError(_0x444937,_0x13e245[_0x4f3176(0x1f5)](_0x13e245[_0x4f3176(0x1e6)](_0x4f3176(0x1dd),constants[_0x4f3176(0x1df)]),_0x13e245[_0x4f3176(0x254)])+_0x5c248a[_0x4f3176(0x242)]),_0x444937['close'](0x3e8,_0x13e245[_0x4f3176(0x269)]);return;}if(_0x5c248a[_0x4f3176(0x215)]!==constants['alt']){_0x13e245[_0x4f3176(0x266)](sendError,_0x444937,_0x13e245[_0x4f3176(0x1f6)](_0x13e245['nADfg']+constants['alt']+_0x13e245[_0x4f3176(0x254)],_0x5c248a[_0x4f3176(0x215)])),_0x444937['close'](0x3e8,_0x13e245['zVJGr']);return;}catchup[_0x4f3176(0x1f2)](_0x5c248a[_0x4f3176(0x1d5)]),_0x444937[_0x4f3176(0x20d)]=_0x5c248a['library_version'],eventBus[_0x4f3176(0x248)](_0x13e245[_0x4f3176(0x207)],_0x444937,_0x5c248a);break;case _0x13e245[_0x4f3176(0x208)]:if(!_0x5c248a)return;(_0x444937[_0x4f3176(0x218)]||_0x444937[_0x4f3176(0x26f)])&&eventBus[_0x4f3176(0x248)](_0x13e245[_0x4f3176(0x208)],_0x444937,_0x5c248a);break;case _0x13e245[_0x4f3176(0x255)]:if(!_0x5c248a)return;(_0x444937[_0x4f3176(0x218)]||_0x444937[_0x4f3176(0x26f)])&&eventBus['emit'](_0x13e245[_0x4f3176(0x24b)],_0x444937,_0x5c248a);break;case _0x4f3176(0x256):if(!_0x5c248a)return;if(conf[_0x4f3176(0x20b)]&&new RegExp(conf['ignoreBugreportRegexp'])[_0x4f3176(0x243)](_0x5c248a[_0x4f3176(0x21c)]['toString']()))return console[_0x4f3176(0x26c)](_0x4f3176(0x262));mail[_0x4f3176(0x26b)](_0x5c248a['message'],_0x5c248a['exception']);break;case _0x13e245[_0x4f3176(0x245)]:let _0x2eea1f=_0x5c248a;if(!_0x2eea1f||!_0x2eea1f['unit']||!_0x2eea1f[_0x4f3176(0x202)][_0x4f3176(0x202)])return _0x13e245[_0x4f3176(0x225)](sendError,_0x444937,_0x13e245[_0x4f3176(0x22d)]);if(_0x2eea1f[_0x4f3176(0x227)]&&!storage['isGenesisUnit'](_0x2eea1f['unit'][_0x4f3176(0x202)]))return sendError(_0x444937,_0x4f3176(0x229));if(conf[_0x4f3176(0x265)]&&!_0x444937[_0x4f3176(0x1c5)])return sendError(_0x444937,_0x13e245[_0x4f3176(0x205)]);db[_0x4f3176(0x274)](_0x13e245[_0x4f3176(0x273)],[_0x2eea1f[_0x4f3176(0x202)]['unit']],function(_0x1347de){const _0x3a44d2=_0x4f3176;if(_0x13e245[_0x3a44d2(0x216)](_0x1347de[_0x3a44d2(0x1c0)],0x0))return _0x13e245[_0x3a44d2(0x21a)](sendError,_0x444937,'this\x20unit\x20is\x20already\x20known\x20and\x20archived');return conf[_0x3a44d2(0x265)]?_0x13e245['lwFxK'](handleLightOnlineJoint,_0x444937,_0x2eea1f):_0x13e245[_0x3a44d2(0x21a)](handleOnlineJoint,_0x444937,_0x2eea1f);});case _0x13e245['berMZ']:case _0x13e245[_0x4f3176(0x1d0)]:case _0x13e245[_0x4f3176(0x270)]:case _0x13e245[_0x4f3176(0x201)]:break;case _0x13e245[_0x4f3176(0x24d)]:if(!_0x5c248a)return;let _0x34aaa3=_0x5c248a;_0x13e245['fJxYG'](handleOnlinePrivatePayment,_0x444937,_0x34aaa3,![],{'ifError':function(_0x1b4417){_0x13e245['ZeNeA'](sendError,_0x444937,_0x1b4417);},'ifAccepted':function(_0x3645d0){const _0x4ad02c=_0x4f3176;_0x13e245[_0x4ad02c(0x266)](sendResult,_0x444937,{'private_payment_in_unit':_0x3645d0,'result':_0x13e245[_0x4ad02c(0x1c6)]}),eventBus[_0x4ad02c(0x248)](_0x13e245['IXKME'],[_0x34aaa3]);},'ifValidationError':function(_0x107753,_0x1c1550){const _0x13c418=_0x4f3176;_0x13e245[_0x13c418(0x1f4)](sendResult,_0x444937,{'private_payment_in_unit':_0x107753,'result':_0x13e245[_0x13c418(0x201)],'error':_0x1c1550});},'ifQueued':function(){}});break;case'my_url':let _0x3a9988=_0x5c248a;if(!_0x3a9988)return;if(_0x444937[_0x4f3176(0x238)])break;if(_0x444937[_0x4f3176(0x1f8)])break;_0x444937[_0x4f3176(0x1f8)]=!![];if(_0x13e245[_0x4f3176(0x247)](0x0,_0x3a9988[_0x4f3176(0x239)](_0x4f3176(0x23d)))&&_0x13e245[_0x4f3176(0x1ce)](0x0,_0x3a9988[_0x4f3176(0x239)](_0x13e245['QLtXO'])))break;_0x444937[_0x4f3176(0x220)]=_0x3a9988,db[_0x4f3176(0x274)](_0x13e245[_0x4f3176(0x206)],[_0x444937[_0x4f3176(0x26e)]],_0x2e9bf0=>{const _0x32d3bd=_0x4f3176,_0x1cefd9={'rCSWN':_0x32d3bd(0x20c)};let _0x205789=_0x2e9bf0[0x0];if(_0x205789&&_0x13e245['vdGXi'](_0x205789[_0x32d3bd(0x258)],_0x3a9988))return;_0x444937['sent_echo_string']=crypto[_0x32d3bd(0x244)](0x1e)['toString']('base64'),_0x13e245[_0x32d3bd(0x22f)](findOutboundPeerOrConnect,_0x3a9988,(_0x16cda4,_0x2d90da)=>{const _0x528a22=_0x32d3bd;!_0x16cda4&&sendJustsaying(_0x2d90da,_0x1cefd9[_0x528a22(0x237)],_0x444937[_0x528a22(0x1d8)]);});});break;case _0x4f3176(0x20c):let _0x3c8573=_0x5c248a;if(_0x444937[_0x4f3176(0x238)]||!_0x3c8573)break;if(!_0x444937[_0x4f3176(0x220)]){console[_0x4f3176(0x26c)]('CLIENT\x20SIDE:\x20received\x20message\x20\x27want_echo\x27,\x20invalid\x20oWs.claimed_url:\x20'+_0x444937[_0x4f3176(0x220)]+'.');break;}let _0x2b17f9=_0x13e245[_0x4f3176(0x1bc)](getOutboundPeerWsByUrl,_0x444937['claimed_url']);if(!_0x2b17f9)break;_0x13e245[_0x4f3176(0x279)](sendJustsaying,_0x2b17f9,_0x13e245[_0x4f3176(0x246)],_0x3c8573);break;case _0x13e245[_0x4f3176(0x246)]:let _0x56a882=_0x5c248a;if(_0x444937[_0x4f3176(0x238)]||!_0x56a882)break;if(!_0x444937[_0x4f3176(0x220)]){console[_0x4f3176(0x26c)](_0x4f3176(0x22e)+_0x444937[_0x4f3176(0x220)]+'.');break;}if(_0x13e245[_0x4f3176(0x247)](_0x444937['sent_echo_string'],_0x56a882)){console['log'](_0x4f3176(0x1c4)+_0x444937[_0x4f3176(0x1d8)]+_0x4f3176(0x257)+_0x56a882+'.');break;}let _0xf00a75=getHostByPeer(_0x444937[_0x4f3176(0x220)]),_0x3d0edf=[];db[_0x4f3176(0x211)](_0x3d0edf,_0x13e245['Eftwe'](_0x13e245[_0x4f3176(0x210)](_0x13e245[_0x4f3176(0x1db)],db[_0x4f3176(0x241)]()),_0x13e245[_0x4f3176(0x1cd)]),[_0xf00a75]),db[_0x4f3176(0x211)](_0x3d0edf,_0x13e245[_0x4f3176(0x1f5)](_0x13e245[_0x4f3176(0x1db)],db[_0x4f3176(0x241)]())+_0x13e245[_0x4f3176(0x1d1)],[_0xf00a75,_0x444937[_0x4f3176(0x220)],_0x444937[_0x4f3176(0x26e)]]),db[_0x4f3176(0x211)](_0x3d0edf,_0x13e245[_0x4f3176(0x1f5)](_0x13e245['MeeGe'],db[_0x4f3176(0x224)]())+_0x13e245[_0x4f3176(0x1c1)],[_0x444937['host']]),db[_0x4f3176(0x211)](_0x3d0edf,_0x13e245[_0x4f3176(0x1ba)],[_0x444937[_0x4f3176(0x26e)],_0x444937[_0x4f3176(0x220)]]),async[_0x4f3176(0x1dc)](_0x3d0edf),_0x444937[_0x4f3176(0x1d8)]=null;break;case _0x13e245[_0x4f3176(0x260)]:if(!_0x5c248a)return;if(!conf['bServeAsHub'])return _0x13e245[_0x4f3176(0x1fa)](sendError,_0x444937,_0x4f3176(0x1d9));let _0x2fcbd3=_0x5c248a;if(_0x13e245[_0x4f3176(0x252)](_0x2fcbd3['challenge'],_0x444937[_0x4f3176(0x26d)]))return sendError(_0x444937,_0x4f3176(0x250));if(!_0x2fcbd3[_0x4f3176(0x23e)]||!_0x2fcbd3['signature'])return sendError(_0x444937,_0x4f3176(0x25c));if(_0x13e245[_0x4f3176(0x247)](_0x2fcbd3['pubkey'][_0x4f3176(0x1c0)],constants[_0x4f3176(0x1cf)]))return _0x13e245[_0x4f3176(0x1fa)](sendError,_0x444937,_0x13e245[_0x4f3176(0x277)]);if(_0x2fcbd3[_0x4f3176(0x1e0)][_0x4f3176(0x1c0)]!==constants[_0x4f3176(0x23b)])return _0x13e245[_0x4f3176(0x1ea)](sendError,_0x444937,_0x4f3176(0x1f1));if(!ecdsaSig['verify'](objectHash[_0x4f3176(0x231)](_0x2fcbd3),_0x2fcbd3[_0x4f3176(0x1e0)],_0x2fcbd3['pubkey']))return _0x13e245[_0x4f3176(0x20e)](sendError,_0x444937,_0x13e245[_0x4f3176(0x267)]);_0x444937[_0x4f3176(0x1de)]=objectHash[_0x4f3176(0x219)](_0x2fcbd3['pubkey']);let _0x237f45=function(){const _0x5accbd=_0x4f3176;_0x444937[_0x5accbd(0x1f9)]=!![],_0x444937[_0x5accbd(0x221)]&&(_0x444937[_0x5accbd(0x221)](),delete _0x444937[_0x5accbd(0x221)]);};db[_0x4f3176(0x274)](_0x13e245[_0x4f3176(0x1ec)],[_0x444937[_0x4f3176(0x1de)]],function(_0x4d9df5){const _0x3ed2fc=_0x4f3176;if(_0x13e245[_0x3ed2fc(0x22a)](_0x4d9df5['length'],0x0))db[_0x3ed2fc(0x274)](_0x13e245['DnpXx'],[_0x444937[_0x3ed2fc(0x1de)],_0x2fcbd3['pubkey']],function(){const _0x5e641e=_0x3ed2fc;sendInfo(_0x444937,_0x5e641e(0x203)),_0x13e245[_0x5e641e(0x23c)](_0x237f45);});else _0x13e245[_0x3ed2fc(0x1f4)](sendStoredDeviceMessages,_0x444937,_0x444937['device_address']),_0x237f45();});if(conf['pushApiProjectNumber']&&conf[_0x4f3176(0x1d3)])sendJustsaying(_0x444937,_0x13e245[_0x4f3176(0x255)],{'projectNumber':conf[_0x4f3176(0x21b)]});else _0x13e245[_0x4f3176(0x279)](sendJustsaying,_0x444937,_0x13e245['ViOBj'],{'projectNumber':0x0});break;case _0x13e245[_0x4f3176(0x1e8)]:if(!conf['bServeAsHub'])return sendError(_0x444937,'I\x27m\x20not\x20a\x20hub');if(!_0x444937[_0x4f3176(0x1de)])return sendError(_0x444937,_0x13e245[_0x4f3176(0x1eb)]);_0x13e245[_0x4f3176(0x22f)](sendStoredDeviceMessages,_0x444937,_0x444937[_0x4f3176(0x1de)]);break;case _0x13e245['IdRMM']:if(!conf[_0x4f3176(0x278)])return _0x13e245[_0x4f3176(0x1ef)](sendError,_0x444937,_0x13e245[_0x4f3176(0x24f)]);let _0x256e1a=_0x5c248a;if(!_0x256e1a)return sendError(_0x444937,_0x4f3176(0x261));if(!_0x444937[_0x4f3176(0x1de)])return _0x13e245[_0x4f3176(0x22f)](sendError,_0x444937,_0x13e245[_0x4f3176(0x1eb)]);db[_0x4f3176(0x274)](_0x13e245['vaCtF'],[_0x444937[_0x4f3176(0x1de)],_0x256e1a],function(){const _0x4a59d7=_0x4f3176;_0x13e245[_0x4a59d7(0x1fb)](sendInfo,_0x444937,_0x13e245[_0x4a59d7(0x263)](_0x13e245['kKvao'],_0x256e1a));});break;case'hub/challenge':case _0x13e245[_0x4f3176(0x1e4)]:case _0x4f3176(0x200):if(!_0x5c248a)return;eventBus['emit'](_0x13e245['DmBnw'],_0x444937,_0x5842a1,_0x5c248a);break;case _0x13e245[_0x4f3176(0x1d7)]:if(!conf[_0x4f3176(0x265)])return _0x13e245[_0x4f3176(0x222)](sendError,_0x444937,_0x13e245['nHNXO']);if(!_0x444937[_0x4f3176(0x1c5)])return _0x13e245[_0x4f3176(0x1da)](sendError,_0x444937,_0x13e245[_0x4f3176(0x234)]);eventBus[_0x4f3176(0x248)](_0x13e245['TwTac'],_0x444937,_0x5842a1,_0x5c248a);break;case _0x13e245[_0x4f3176(0x228)]:if(conf[_0x4f3176(0x265)])return _0x13e245['mtVYk'](sendError,_0x444937,_0x13e245[_0x4f3176(0x1ca)]);if(_0x444937['bOutbound'])return _0x13e245[_0x4f3176(0x1fb)](sendError,_0x444937,_0x13e245['zVfpn']);let _0x20c703=_0x5c248a;if(!ValidationUtils[_0x4f3176(0x272)](_0x20c703))return _0x13e245[_0x4f3176(0x1e9)](sendError,_0x444937,_0x13e245[_0x4f3176(0x1f3)]);db[_0x4f3176(0x274)](_0x13e245[_0x4f3176(0x259)](_0x13e245[_0x4f3176(0x1db)]+db[_0x4f3176(0x241)](),_0x13e245['ykqok']),[_0x444937['peer'],_0x20c703],function(){const _0x4b592d=_0x4f3176,_0x286cbc={'qUGaw':function(_0x29c4e1,_0x2ef30f,_0x56faa1){return _0x29c4e1(_0x2ef30f,_0x56faa1);}};_0x13e245[_0x4b592d(0x1cc)](sendInfo,_0x444937,_0x13e245[_0x4b592d(0x263)](_0x13e245[_0x4b592d(0x213)],_0x20c703)),db[_0x4b592d(0x274)](_0x13e245[_0x4b592d(0x25b)],[_0x20c703,_0x20c703],function(_0x34eb6d){const _0xc3d42c=_0x4b592d,_0x123b21={'DUjku':_0x13e245[_0xc3d42c(0x1fd)]};if(_0x13e245[_0xc3d42c(0x217)](_0x34eb6d[_0xc3d42c(0x1c0)],0x0))return;if(_0x13e245[_0xc3d42c(0x1c2)](_0x34eb6d[_0xc3d42c(0x1c0)],0xa)||_0x34eb6d['some'](function(_0x233810){const _0x3d78a1=_0xc3d42c;return _0x233810[_0x3d78a1(0x204)];}))_0x13e245[_0xc3d42c(0x1f4)](sendJustsaying,_0x444937,_0x13e245['cFUlf']);_0x34eb6d[_0xc3d42c(0x21d)](function(_0x21f9e6){const _0x55463a=_0xc3d42c,_0x99e092={'GJlzG':function(_0x379263,_0x214176,_0x2b77d5){return _0x286cbc['qUGaw'](_0x379263,_0x214176,_0x2b77d5);}};if(_0x21f9e6[_0x55463a(0x204)])return;storage['readJoint'](db,_0x21f9e6[_0x55463a(0x202)],{'ifFound':function(_0x25ad44){const _0x5caaea=_0x55463a;_0x99e092[_0x5caaea(0x253)](sendJoint,_0x444937,_0x25ad44);},'ifNotFound':function(){const _0x3754f7=_0x55463a;throw Error(_0x3754f7(0x1fe)+_0x21f9e6[_0x3754f7(0x202)]+_0x123b21[_0x3754f7(0x1bd)]);}});});});});break;case _0x13e245[_0x4f3176(0x1d6)]:let _0x399ba7=_0x5c248a;assocAllOutBoundPeers[_0x444937[_0x4f3176(0x26e)]]={'time':Date[_0x4f3176(0x25d)](),'peers':_0x399ba7};break;}}